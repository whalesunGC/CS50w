{% extends "network/layout.html" %}

{% block body %}
    <div class="profile">
        <h2>{{ context.username }}</h2>
        {% if user.is_authenticated and user != context %}
            {% if follower %}
            <button id="follow-button" data-user-id="{{ context.id }}" data-following="{{ follower }}">Unfollow</button>
            {% else %}
            <button id="follow-button" data-user-id="{{ context.id }}" data-following="{{ follower }}">Follow</button>
            {% endif %}
        {% endif %} 
        <h4>Followers: {{followers}} Following: {{following}} </h4>
        <hr>
        <h3>Posts:</h3>
        {%for context in posts %}
            <div class="post">
                <a href="{% url 'profile' username=context.user.username %}">@{{ context.user }}</a>
                <hr>
                <p>{{ context.content}}</p>
                <hr>
                <p>{{ context.created_at}} likes: {{context.likecount}}</p>
            </div>
    {% endfor%}
    </div>
{% endblock %}